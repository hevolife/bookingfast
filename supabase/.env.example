# üîê Variables d'Environnement Supabase Self-Hosting
# Copiez ce fichier vers .env et remplissez vos vraies valeurs

# ============================================
# üóÑÔ∏è CONFIGURATION SUPABASE CORE (OBLIGATOIRE)
# ============================================

# Base de donn√©es PostgreSQL
POSTGRES_PASSWORD=votre-mot-de-passe-postgres-super-securise
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432

# JWT et authentification
JWT_SECRET=votre-jwt-secret-super-securise-64-caracteres-minimum
ANON_KEY=votre-anon-key-supabase
SERVICE_ROLE_KEY=votre-service-role-key-supabase

# URLs Supabase
SUPABASE_URL=https://api.votre-domaine.com
SUPABASE_PUBLIC_URL=https://api.votre-domaine.com
API_EXTERNAL_URL=https://api.votre-domaine.com

# Studio Supabase
STUDIO_DEFAULT_ORGANIZATION=BookingFast
STUDIO_DEFAULT_PROJECT=Production
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=votre-mot-de-passe-admin-securise

# ============================================
# üí≥ STRIPE (OBLIGATOIRE POUR PAIEMENTS)
# ============================================

# Cl√©s Stripe - R√©cup√©r√©es depuis Dashboard Stripe > D√©veloppeurs > Cl√©s API
STRIPE_SECRET_KEY=sk_test_51ABC123...
# OU pour la production :
# STRIPE_SECRET_KEY=sk_live_51ABC123...

# Webhook Stripe - R√©cup√©r√© depuis Dashboard Stripe > D√©veloppeurs > Webhooks
STRIPE_WEBHOOK_SECRET=whsec_ABC123...

# ============================================
# üìß BREVO (OPTIONNEL POUR EMAILS)
# ============================================

# Cl√© API Brevo - R√©cup√©r√©e depuis Dashboard Brevo > Compte > Cl√©s API
BREVO_API_KEY=xkeysib-ABC123...

# ============================================
# üåê CONFIGURATION R√âSEAU
# ============================================

# Ports internes (ne pas modifier sauf conflit)
API_PORT=54321
DB_PORT=54322
STUDIO_PORT=54323
INBUCKET_PORT=54324
STORAGE_PORT=54325
IMGPROXY_PORT=54326
EDGE_RUNTIME_PORT=54327

# ============================================
# üìß CONFIGURATION EMAIL (OPTIONNEL)
# ============================================

# Configuration SMTP pour les emails syst√®me
SMTP_ADMIN_EMAIL=admin@votre-domaine.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=votre-email@gmail.com
SMTP_PASS=votre-mot-de-passe-app-gmail

# ============================================
# üîí S√âCURIT√â AVANC√âE (OPTIONNEL)
# ============================================

# Cl√©s de chiffrement additionnelles
GOTRUE_JWT_SECRET=votre-gotrue-jwt-secret
GOTRUE_JWT_EXP=3600
GOTRUE_JWT_AUD=authenticated

# Configuration Auth
GOTRUE_SITE_URL=https://bookingfast.pro
GOTRUE_URI_ALLOW_LIST=https://bookingfast.pro/**
GOTRUE_DISABLE_SIGNUP=false
GOTRUE_JWT_ADMIN_ROLES=service_role
GOTRUE_JWT_DEFAULT_GROUP_NAME=authenticated

# ============================================
# üìä MONITORING ET LOGS (OPTIONNEL)
# ============================================

# Niveau de logs
LOG_LEVEL=info
GOTRUE_LOG_LEVEL=info
POSTGREST_LOG_LEVEL=info

# ============================================
# üöÄ PRODUCTION UNIQUEMENT
# ============================================

# D√©sactiver les fonctionnalit√©s de d√©veloppement en production
GOTRUE_EXTERNAL_EMAIL_ENABLED=true
GOTRUE_EXTERNAL_PHONE_ENABLED=false
GOTRUE_SMS_AUTOCONFIRM=false
GOTRUE_MAILER_AUTOCONFIRM=false

# S√©curit√© renforc√©e
GOTRUE_PASSWORD_MIN_LENGTH=8
GOTRUE_JWT_VERIFY_AUD=true

# ============================================
# üìù INSTRUCTIONS DE CONFIGURATION
# ============================================

# 1. POSTGRES_PASSWORD : G√©n√©rez un mot de passe fort
#    Exemple : openssl rand -base64 32

# 2. JWT_SECRET : G√©n√©rez une cl√© JWT s√©curis√©e
#    Exemple : openssl rand -base64 64

# 3. ANON_KEY et SERVICE_ROLE_KEY : 
#    G√©n√©rez avec : supabase gen keys

# 4. STRIPE_SECRET_KEY : 
#    Dashboard Stripe > D√©veloppeurs > Cl√©s API > Cl√© secr√®te

# 5. STRIPE_WEBHOOK_SECRET :
#    Dashboard Stripe > D√©veloppeurs > Webhooks > Cr√©er webhook
#    URL : https://api.votre-domaine.com/functions/v1/stripe-webhook
#    √âv√©nements : checkout.session.completed, payment_intent.succeeded

# 6. BREVO_API_KEY (optionnel) :
#    Dashboard Brevo > Compte > Cl√©s API SMTP & API

# ============================================
# üß™ VALEURS DE TEST STRIPE
# ============================================

# Pour tester les paiements, utilisez ces cartes :
# Succ√®s : 4242 4242 4242 4242
# √âchec : 4000 0000 0000 0002
# 3D Secure : 4000 0025 0000 3155
# Expiration : n'importe quelle date future (ex: 12/25)
# CVC : n'importe quel code 3 chiffres (ex: 123)

# ============================================
# ‚ö†Ô∏è S√âCURIT√â IMPORTANTE
# ============================================

# ‚ùå JAMAIS commiter ce fichier dans Git
# ‚ùå JAMAIS partager vos cl√©s secr√®tes
# ‚úÖ TOUJOURS utiliser des cl√©s de test en d√©veloppement
# ‚úÖ TOUJOURS v√©rifier que .env est dans .gitignore